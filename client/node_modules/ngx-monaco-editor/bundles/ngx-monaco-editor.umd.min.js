!function(o,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/forms"),require("@angular/common"),require("@angular/core"),require("rxjs")):"function"==typeof define&&define.amd?define("ngx-monaco-editor",["exports","@angular/forms","@angular/common","@angular/core","rxjs"],e):e(o["ngx-monaco-editor"]={},o.ng.forms,o.ng.common,o.ng.core,o.rxjs)}(this,function(o,e,t,n,r){"use strict";var i=function(o,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t])})(o,e)};function s(o,e){function t(){this.constructor=o}i(o,e),o.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var d,a=!1,c=function(){function o(o){this.config=o,this.onInit=new n.EventEmitter}return Object.defineProperty(o.prototype,"options",{get:function(){return this._options},set:function(o){this._options=Object.assign({},this.config.defaultOptions,o),this._editor&&(this._editor.dispose(),this.initMonaco(o))},enumerable:!0,configurable:!0}),o.prototype.ngAfterViewInit=function(){var n=this;a?d.then(function(){n.initMonaco(n.options)}):(a=!0,d=new Promise(function(o){var e=n.config.baseUrl||"/assets";if("object"!=typeof window.monaco){var t=function(){window.require.config({paths:{vs:e+"/monaco/vs"}}),window.require(["vs/editor/editor.main"],function(){"function"==typeof n.config.onMonacoLoad&&n.config.onMonacoLoad(),n.initMonaco(n.options),o()})};if(window.require)t();else{var i=document.createElement("script");i.type="text/javascript",i.src=e+"/monaco/vs/loader.js",i.addEventListener("load",t),document.body.appendChild(i)}}else o()}))},o.prototype.ngOnDestroy=function(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=undefined)},o.propDecorators={_editorContainer:[{type:n.ViewChild,args:["editorContainer"]}],onInit:[{type:n.Output}],options:[{type:n.Input,args:["options"]}]},o}(),u=new n.InjectionToken("NGX_MONACO_EDITOR_CONFIG"),l=function(i){function o(o,e){var t=i.call(this,e)||this;return t.zone=o,t.editorConfig=e,t._value="",t.propagateChange=function(o){},t.onTouched=function(){},t}return s(o,i),Object.defineProperty(o.prototype,"model",{set:function(o){this.options.model=o,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))},enumerable:!0,configurable:!0}),o.prototype.writeValue=function(o){var e=this;this._value=o||"",setTimeout(function(){e._editor&&!e.options.model&&e._editor.setValue(e._value)})},o.prototype.registerOnChange=function(o){this.propagateChange=o},o.prototype.registerOnTouched=function(o){this.onTouched=o},o.prototype.initMonaco=function(o){var t=this,e=!!o.model;if(e){var i=monaco.editor.getModel(o.model.uri||"");i?(o.model=i,o.model.setValue(this._value)):o.model=monaco.editor.createModel(o.model.value,o.model.language,o.model.uri)}this._editor=monaco.editor.create(this._editorContainer.nativeElement,o),e||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(function(o){var e=t._editor.getValue();t.propagateChange(e),t.zone.run(function(){return t._value=e})}),this._editor.onDidBlurEditorWidget(function(){t.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=r.fromEvent(window,"resize").subscribe(function(){return t._editor.layout()}),this.onInit.emit(this._editor)},o.decorators=[{type:n.Component,args:[{selector:"ngx-monaco-editor",template:'<div class="editor-container" #editorContainer></div>',providers:[{provide:e.NG_VALUE_ACCESSOR,useExisting:n.forwardRef(function(){return o}),multi:!0}],styles:["\n    :host {\n      display: block;\n      height: 200px;\n    }\n\n    .editor-container {\n      width: 100%;\n      height: 98%;\n    }\n  "]}]}],o.ctorParameters=function(){return[{type:n.NgZone},{type:undefined,decorators:[{type:n.Inject,args:[u]}]}]},o.propDecorators={model:[{type:n.Input,args:["model"]}]},o}(c),p=function(t){function o(o){var e=t.call(this,o)||this;return e.editorConfig=o,e}return s(o,t),Object.defineProperty(o.prototype,"originalModel",{set:function(o){this._originalModel=o,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"modifiedModel",{set:function(o){this._modifiedModel=o,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))},enumerable:!0,configurable:!0}),o.prototype.initMonaco=function(o){var e=this;if(!this._originalModel||!this._modifiedModel)throw new Error("originalModel or modifiedModel not found for ngx-monaco-diff-editor");this._originalModel.language=this._originalModel.language||o.language,this._modifiedModel.language=this._modifiedModel.language||o.language;var t=monaco.editor.createModel(this._originalModel.code,this._originalModel.language),i=monaco.editor.createModel(this._modifiedModel.code,this._modifiedModel.language);this._editorContainer.nativeElement.innerHTML="";var n=o.theme;this._editor=monaco.editor.createDiffEditor(this._editorContainer.nativeElement,o),o.theme=n,this._editor.setModel({original:t,modified:i}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=r.fromEvent(window,"resize").subscribe(function(){return e._editor.layout()}),this.onInit.emit(this._editor)},o.decorators=[{type:n.Component,args:[{selector:"ngx-monaco-diff-editor",template:'<div class="editor-container" #editorContainer></div>',styles:["\n    :host {\n      display: block;\n      height: 200px;\n    }\n\n    .editor-container {\n      width: 100%;\n      height: 98%;\n    }\n  "]}]}],o.ctorParameters=function(){return[{type:undefined,decorators:[{type:n.Inject,args:[u]}]}]},o.propDecorators={originalModel:[{type:n.Input,args:["originalModel"]}],modifiedModel:[{type:n.Input,args:["modifiedModel"]}]},o}(c),f=function(){function e(){}return e.forRoot=function(o){return void 0===o&&(o={}),{ngModule:e,providers:[{provide:u,useValue:o}]}},e.decorators=[{type:n.NgModule,args:[{imports:[t.CommonModule],declarations:[l,p],exports:[l,p]}]}],e}();o.EditorComponent=l,o.MonacoEditorModule=f,o.NGX_MONACO_EDITOR_CONFIG=u,o.ɵa=c,o.ɵb=p,Object.defineProperty(o,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-monaco-editor.umd.min.js.map